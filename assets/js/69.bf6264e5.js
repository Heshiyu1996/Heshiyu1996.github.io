(window.webpackJsonp=window.webpackJsonp||[]).push([[69],{329:function(v,_,t){v.exports=t.p+"assets/img/img-1.18f63b45.svg"},449:function(v,_,t){"use strict";t.r(_);var e=t(29),r=Object(e.a)({},(function(){var v=this,_=v.$createElement,e=v._self._c||_;return e("ContentSlotsDistributor",{attrs:{"slot-key":v.$parent.slotKey}},[e("h1",{attrs:{id:"浏览器基础"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#浏览器基础"}},[v._v("#")]),v._v(" 浏览器基础")]),v._v(" "),e("p"),e("div",{staticClass:"table-of-contents"},[e("ul",[e("li",[e("a",{attrs:{href:"#浏览器基础"}},[v._v("浏览器基础")]),e("ul",[e("li",[e("a",{attrs:{href:"#浏览器内核"}},[v._v("浏览器内核")])]),e("li",[e("a",{attrs:{href:"#浏览器缓存"}},[v._v("浏览器缓存")])]),e("li",[e("a",{attrs:{href:"#输入url，会发生什么？（完整的http过程）"}},[v._v("输入URL，会发生什么？（完整的http过程）")])])])])])]),e("p"),v._v(" "),e("h2",{attrs:{id:"浏览器内核"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#浏览器内核"}},[v._v("#")]),v._v(" 浏览器内核")]),v._v(" "),e("ul",[e("li",[v._v("Trident （IE内核）")]),v._v(" "),e("li",[v._v("Gecko （Firefox内核）")]),v._v(" "),e("li",[v._v("Presto（Opera，已废弃）")]),v._v(" "),e("li",[v._v("Webkit（Safari、Chrome28前）")]),v._v(" "),e("li",[v._v("Blink（Chrome28后）")])]),v._v(" "),e("h2",{attrs:{id:"浏览器缓存"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#浏览器缓存"}},[v._v("#")]),v._v(" 浏览器缓存")]),v._v(" "),e("p",[v._v("先检查 "),e("strong",[v._v("强缓存")]),v._v("，再检 查"),e("strong",[v._v("协商缓存")])]),v._v(" "),e("p",[v._v("在上一次请求成功之后，再次对同一个资源进行请求时：")]),v._v(" "),e("ul",[e("li",[v._v("浏览器会先检查是否命中 "),e("strong",[v._v("强缓存")]),v._v("，主要是看"),e("code",[v._v("Expires")]),v._v("和"),e("code",[v._v("Cache-control")]),v._v("（分别代表资源的有效期以及缓存策略）\n"),e("ul",[e("li",[v._v("若命中 "),e("strong",[v._v("强缓存")]),v._v(" ，直接从本地磁盘获取资源（"),e("strong",[v._v("200")]),v._v("）")]),v._v(" "),e("li",[v._v("若没有命中 "),e("strong",[v._v("强缓存")]),v._v("，会组装请求报文，与服务器建立TCP链接，检查是否命中协商缓存。请求头会通过"),e("code",[v._v("If-Modified-Since")]),v._v("、"),e("code",[v._v("If-None-Match")]),v._v("携带"),e("code",[v._v("Last-Modified")]),v._v("、"),e("code",[v._v("ETag")]),v._v("的值。\n"),e("ul",[e("li",[v._v("若命中 "),e("strong",[v._v("协商缓存")]),v._v("，浏览器会组装响应报文，状态码为 "),e("strong",[v._v("304")]),v._v("，让浏览器本地取资源即可。")]),v._v(" "),e("li",[v._v("没有命中 "),e("strong",[v._v("协商缓存")]),v._v("，响应全新的资源内容给浏览器，状态码为 "),e("strong",[v._v("200")])])])])])])]),v._v(" "),e("blockquote",[e("p",[v._v("若用户访问的资源仍处于强缓存中，需要对资源进行更新，如何解决？")]),v._v(" "),e("p",[v._v("解决：替换资源的url即可，因为html一般是不会被强缓存的。")])]),v._v(" "),e("h2",{attrs:{id:"输入url，会发生什么？（完整的http过程）"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#输入url，会发生什么？（完整的http过程）"}},[v._v("#")]),v._v(" 输入URL，会发生什么？（完整的http过程）")]),v._v(" "),e("p",[v._v("1、浏览器输入url")]),v._v(" "),e("p",[v._v("2、浏览器检查"),e("code",[v._v("强缓存")]),v._v("（Expires、Cache-control）")]),v._v(" "),e("p",[v._v("3、DNS解析url，获取主机ip")]),v._v(" "),e("p",[v._v("4、组装HTTP报文")]),v._v(" "),e("p",[v._v("5、发起TCP的3次握手")]),v._v(" "),e("p",[v._v("6、TCP连接建立后，发送HTTP请求")]),v._v(" "),e("p",[v._v("7、服务器接收并解析，检查"),e("code",[v._v("协商缓存")]),v._v("（ETag、Last-Modified）")]),v._v(" "),e("p",[v._v("8、通过TCP返回响应报文")]),v._v(" "),e("p",[v._v("9、浏览器缓存响应")]),v._v(" "),e("p",[v._v("10、浏览器进行"),e("code",[v._v("解析HTML（构造DOM树）")]),v._v("、"),e("code",[v._v("下载资源")]),v._v("、"),e("code",[v._v("构造CSSOM树")]),v._v("、"),e("code",[v._v("执行JS脚本")])]),v._v(" "),e("blockquote",[e("p",[v._v("HTML解析器会根据HTML文档，从上往下进行解析")]),v._v(" "),e("p",[v._v("DOM的渲染，是在加载完"),e("code",[v._v("<head>")]),v._v("里的css、js后开始执行的")]),v._v(" "),e("p",[v._v("所以，最好不要把js放在"),e("code",[v._v("<head>")]),v._v("(特别是操作DOM的js)")]),v._v(" "),e("p",[v._v("对于没有声明defer、async的"),e("code",[v._v("<script>")]),v._v("就会按顺序直接加载、执行。"),e("code",[v._v("JS引擎")]),v._v("会抢夺"),e("code",[v._v("HTML解析器")]),v._v("的控制权。直到加载、执行完才会把控制权交给"),e("code",[v._v("渲染引擎")])])]),v._v(" "),e("p",[e("img",{attrs:{src:t(329),alt:"alt"}})])])}),[],!1,null,null,null);_.default=r.exports}}]);