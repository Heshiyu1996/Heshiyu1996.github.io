(window.webpackJsonp=window.webpackJsonp||[]).push([[40],{372:function(s,t,a){s.exports=a.p+"assets/img/img-1.c19b315f.png"},373:function(s,t,a){s.exports=a.p+"assets/img/img-2.ba3c554b.png"},423:function(s,t,a){"use strict";a.r(t);var e=a(29),n=Object(e.a)({},(function(){var s=this,t=s.$createElement,e=s._self._c||t;return e("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[e("h1",{attrs:{id:"其他"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#其他"}},[s._v("#")]),s._v(" 其他")]),s._v(" "),e("blockquote",[e("p",[s._v("这里会搜集一些有关项目的零碎笔记")])]),s._v(" "),e("p"),e("div",{staticClass:"table-of-contents"},[e("ul",[e("li",[e("a",{attrs:{href:"#其他"}},[s._v("其他")]),e("ul",[e("li",[e("a",{attrs:{href:"#jquery-源码"}},[s._v("[jQuery]源码")])]),e("li",[e("a",{attrs:{href:"#axios-源码解析"}},[s._v("[Axios] 源码解析")])]),e("li",[e("a",{attrs:{href:"#重构的好处？"}},[s._v("重构的好处？")])]),e("li",[e("a",{attrs:{href:"#两个异步请求，若第二个比第一个先返回，对于第一个的结果如何cancel掉？"}},[s._v("两个异步请求，若第二个比第一个先返回，对于第一个的结果如何cancel掉？")])]),e("li",[e("a",{attrs:{href:"#通讯录搜索（按姓名查询、或按首拼音）"}},[s._v("通讯录搜索（按姓名查询、或按首拼音）")])]),e("li",[e("a",{attrs:{href:"#把svg当做字体"}},[s._v("把svg当做字体")])]),e("li",[e("a",{attrs:{href:"#如何限定只接收10个http响应？"}},[s._v("如何限定只接收10个http响应？")])]),e("li",[e("a",{attrs:{href:"#对前后端分离的理解？"}},[s._v("对前后端分离的理解？")])]),e("li",[e("a",{attrs:{href:"#web-前端项目搭建"}},[s._v("[web]前端项目搭建")])]),e("li",[e("a",{attrs:{href:"#vue-js-slot-scope"}},[s._v("[Vue.js]slot-scope")])]),e("li",[e("a",{attrs:{href:"#pc-keep-alive不能正常销毁"}},[s._v("[PC] keep-alive不能正常销毁")])]),e("li",[e("a",{attrs:{href:"#pc-庞大数据的渲染、校验、保存问题"}},[s._v("[pc]庞大数据的渲染、校验、保存问题")])]),e("li",[e("a",{attrs:{href:"#将一组下载url打包成zip"}},[s._v("将一组下载URL打包成zip")])]),e("li",[e("a",{attrs:{href:"#web-sourcemap"}},[s._v("[web] SourceMap")])]),e("li",[e("a",{attrs:{href:"#tree-shaking"}},[s._v("Tree shaking")])]),e("li",[e("a",{attrs:{href:"#nginx"}},[s._v("Nginx")])]),e("li",[e("a",{attrs:{href:"#keydown、keyup、keypress"}},[s._v("keydown、keyup、keypress")])]),e("li",[e("a",{attrs:{href:"#git-rebase"}},[s._v("git rebase")])]),e("li",[e("a",{attrs:{href:"#android下line-height文字垂直居中偏移问题"}},[s._v("Android下line-height文字垂直居中偏移问题")])]),e("li",[e("a",{attrs:{href:"#ios：position-fixed滑动不固定"}},[s._v("iOS：position: fixed滑动不固定")])])])])])]),e("p"),s._v(" "),e("h2",{attrs:{id:"jquery-源码"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#jquery-源码"}},[s._v("#")]),s._v(" [jQuery]源码")]),s._v(" "),e("ul",[e("li",[s._v("首先，是从"),e("code",[s._v("闭包")]),s._v(" + "),e("code",[s._v("立即执行函数")]),s._v("开始的（传入了window对象）\n"),e("ul",[e("li",[s._v("目的：将"),e("code",[s._v("$")]),s._v("变量保存在内存中（单例模式）")])])]),s._v(" "),e("li",[s._v("然后，"),e("code",[s._v("重载")]),s._v("很常用\n"),e("ul",[e("li",[s._v("原因：单单为了实例化一个jQuery对象，就有9种不同的方法")])])]),s._v(" "),e("li",[s._v("最后，"),e("code",[s._v("链式调用")]),s._v("实现原理\n"),e("ul",[e("li",[s._v("原因：实现很简单。只需"),e("strong",[s._v("在实现链式调用的方法的返回结果里，返回this即可")])])])])]),s._v(" "),e("h3",{attrs:{id:"vue-cli-3-0的babel"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#vue-cli-3-0的babel"}},[s._v("#")]),s._v(" vue-cli 3.0的babel")]),s._v(" "),e("p",[s._v("在vue-cli 3.0根目录下，有"),e("code",[s._v("babel.config.js")]),s._v("（采用babel7的新配置格式）。")]),s._v(" "),e("ul",[e("li",[s._v("里面预先配置了"),e("code",[s._v("preset")]),s._v("，它的值是"),e("code",[s._v("['@vue/app']")])]),s._v(" "),e("li",[s._v("也可以配置"),e("code",[s._v("plugins")]),s._v("（引用插件来处理代码的转换。和"),e("code",[s._v("preset")]),s._v("平级。）")])]),s._v(" "),e("h2",{attrs:{id:"axios-源码解析"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#axios-源码解析"}},[s._v("#")]),s._v(" [Axios] 源码解析")]),s._v(" "),e("p",[e("code",[s._v("Axios")]),s._v("是一个基于"),e("code",[s._v("Promise")]),s._v("的http请求库。")]),s._v(" "),e("div",{staticClass:"language-js line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("function")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("Axios")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("this")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("interceptors "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        request"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("InterceptorManager")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 请求拦截器")]),s._v("\n        response"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("InterceptorManager")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 响应拦截器")]),s._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br")])]),e("p",[s._v("每个axios实例都有一个"),e("code",[s._v("interceptors")]),s._v("实例属性，同时这个"),e("code",[s._v("interceptors")]),s._v("对象上有两个属性"),e("code",[s._v("request")]),s._v("、"),e("code",[s._v("response")]),s._v("，它们都是"),e("code",[s._v("InterceptorManager")]),s._v("的实例。")]),s._v(" "),e("p",[e("code",[s._v("InterceptorManager")]),s._v("构造函数是用来实现拦截器的，且这个构造函数原型上有3个方法："),e("code",[s._v("use")]),s._v("、"),e("code",[s._v("eject")]),s._v("、"),e("code",[s._v("forEach")]),s._v("。")]),s._v(" "),e("p",[s._v("一般我们最常用的是"),e("code",[s._v("use")]),s._v("，")]),s._v(" "),e("ul",[e("li",[s._v("对于"),e("code",[s._v("request")]),s._v("，我们就在"),e("code",[s._v("use")]),s._v("里对"),e("code",[s._v("config")]),s._v("进行修改，随后会覆盖掉默认配置")]),s._v(" "),e("li",[s._v("对于"),e("code",[s._v("response")]),s._v("，我们就在"),e("code",[s._v("use")]),s._v("里对后端返回的数据进行一个预处理再返回")])]),s._v(" "),e("h2",{attrs:{id:"重构的好处？"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#重构的好处？"}},[s._v("#")]),s._v(" 重构的好处？")]),s._v(" "),e("ul",[e("li",[s._v("实现前后端分离")]),s._v(" "),e("li",[s._v("代码优化")]),s._v(" "),e("li",[s._v("减少后期维护的学习成本")])]),s._v(" "),e("h2",{attrs:{id:"两个异步请求，若第二个比第一个先返回，对于第一个的结果如何cancel掉？"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#两个异步请求，若第二个比第一个先返回，对于第一个的结果如何cancel掉？"}},[s._v("#")]),s._v(" 两个异步请求，若第二个比第一个先返回，对于第一个的结果如何cancel掉？")]),s._v(" "),e("p",[s._v("栈")]),s._v(" "),e("h2",{attrs:{id:"通讯录搜索（按姓名查询、或按首拼音）"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#通讯录搜索（按姓名查询、或按首拼音）"}},[s._v("#")]),s._v(" 通讯录搜索（按姓名查询、或按首拼音）")]),s._v(" "),e("p",[s._v("将各个汉字各自存起")]),s._v(" "),e("h2",{attrs:{id:"把svg当做字体"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#把svg当做字体"}},[s._v("#")]),s._v(" 把svg当做字体")]),s._v(" "),e("h2",{attrs:{id:"如何限定只接收10个http响应？"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#如何限定只接收10个http响应？"}},[s._v("#")]),s._v(" 如何限定只接收10个http响应？")]),s._v(" "),e("h2",{attrs:{id:"对前后端分离的理解？"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#对前后端分离的理解？"}},[s._v("#")]),s._v(" 对前后端分离的理解？")]),s._v(" "),e("p",[e("img",{attrs:{src:a(372),alt:"alt"}})]),s._v(" "),e("p",[e("strong",[s._v("部署方式：前后端分开部署，利用中间件（如Nginx）进行代理转发")])]),s._v(" "),e("p",[s._v("各端职责：")]),s._v(" "),e("ul",[e("li",[e("p",[s._v("前端")]),s._v(" "),e("ul",[e("li",[s._v("负责控制页面的跳转、异步请求数据")]),s._v(" "),e("li",[s._v("存放css、js等静态资源，并使用CDN加速；")])])]),s._v(" "),e("li",[e("p",[s._v("后端")]),s._v(" "),e("ul",[e("li",[s._v("判断/接收请求")]),s._v(" "),e("li",[s._v("组装并返回数据")])])])]),s._v(" "),e("p",[s._v("优势：")]),s._v(" "),e("ul",[e("li",[s._v("提升开发效率")]),s._v(" "),e("li",[s._v("减少后端的负载压力")]),s._v(" "),e("li",[s._v("增强项目代码的可读性和维护性")])]),s._v(" "),e("p",[s._v("缺点：")]),s._v(" "),e("ul",[e("li",[s._v("部署顺序（后端先部署）")]),s._v(" "),e("li",[s._v("文档的重要性")])]),s._v(" "),e("h2",{attrs:{id:"web-前端项目搭建"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#web-前端项目搭建"}},[s._v("#")]),s._v(" [web]前端项目搭建")]),s._v(" "),e("ul",[e("li",[s._v("安装Node")]),s._v(" "),e("li",[s._v("npm init -y")]),s._v(" "),e("li",[s._v("生成"),e("code",[s._v("package.json")])]),s._v(" "),e("li",[s._v("npm install --save-dev webpack")]),s._v(" "),e("li",[s._v("安装插件（babel-core、loaders、vue...）")]),s._v(" "),e("li",[s._v("进入webpack.config.js进行配置")])]),s._v(" "),e("div",{staticClass:"language-js line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[s._v("module"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("exports "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  entry"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v("'./index.js'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  devServer"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    port"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("8083")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    hot"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),s._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br")])]),e("ul",[e("li",[s._v("新建index.js、index.html")]),s._v(" "),e("li",[s._v("进入package.json修改script")])]),s._v(" "),e("div",{staticClass:"language-json line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-json"}},[e("code",[e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  start"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"webpack-dev-server"')]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br")])]),e("p",[s._v("以下是结合vue的：")]),s._v(" "),e("ul",[e("li",[s._v("新建src")]),s._v(" "),e("li",[s._v("里面还有assets、pages、index.js、app.vue...")]),s._v(" "),e("li",[s._v("配置webpack.config.js（特别是output、loaders）")]),s._v(" "),e("li",[s._v("在index.html新增")])]),s._v(" "),e("div",{staticClass:"language-js line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("div id"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"root"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("div"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("ul",[e("li",[s._v("在app.vue新增")])]),s._v(" "),e("div",{staticClass:"language-js line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" vue "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v("'Vue'")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Vue")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("...")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")])]),e("ul",[e("li",[s._v("npm start")])]),s._v(" "),e("h2",{attrs:{id:"vue-js-slot-scope"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#vue-js-slot-scope"}},[s._v("#")]),s._v(" [Vue.js]slot-scope")]),s._v(" "),e("h2",{attrs:{id:"pc-keep-alive不能正常销毁"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#pc-keep-alive不能正常销毁"}},[s._v("#")]),s._v(" [PC] keep-alive不能正常销毁")]),s._v(" "),e("p",[s._v("问题：设置了"),e("code",[s._v("<keep-alive>")]),s._v("组件的include属性后，keep-alive组件不能正常销毁，且会占用内存。")]),s._v(" "),e("p",[s._v("解决：")]),s._v(" "),e("ul",[e("li",[s._v("1、给所有vue实例增加name实例选项（未解决）")]),s._v(" "),e("li",[s._v("2、查看keep-alive源码：")])]),s._v(" "),e("div",{staticClass:"language-js line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[s._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// created时，创建cache对象")]),s._v("\n "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("created")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n   "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("this")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("cache "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" Object"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("create")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("null")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n   "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("this")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("keys "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n\n "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// destroyed时，遍历cache对象")]),s._v("\n "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("destroyed")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n   "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" key "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("this")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("cache"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n     "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// pruneCacheEntry函数：将那些被缓存了的、但当前没有处于被渲染状态的组件都销毁掉")]),s._v("\n     "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("pruneCacheEntry")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("this")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("cache"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" key"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("this")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("keys"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n   "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n \n "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// mounted时，会监听include、exclude这两个字段，然后实时地更新（删除）this.cache对象")]),s._v("\n "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("mounted")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n   "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("this")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("$watch")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[s._v("'include'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token parameter"}},[s._v("val")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n     "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("pruneCache")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("this")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token parameter"}},[s._v("name")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("matches")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("val"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" name"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n   "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n   "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("this")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("$watch")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[s._v("'exclude'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token parameter"}},[s._v("val")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n     "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("pruneCache")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("this")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token parameter"}},[s._v("name")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("matches")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("val"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" name"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n   "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br"),e("span",{staticClass:"line-number"},[s._v("13")]),e("br"),e("span",{staticClass:"line-number"},[s._v("14")]),e("br"),e("span",{staticClass:"line-number"},[s._v("15")]),e("br"),e("span",{staticClass:"line-number"},[s._v("16")]),e("br"),e("span",{staticClass:"line-number"},[s._v("17")]),e("br"),e("span",{staticClass:"line-number"},[s._v("18")]),e("br"),e("span",{staticClass:"line-number"},[s._v("19")]),e("br"),e("span",{staticClass:"line-number"},[s._v("20")]),e("br"),e("span",{staticClass:"line-number"},[s._v("21")]),e("br"),e("span",{staticClass:"line-number"},[s._v("22")]),e("br"),e("span",{staticClass:"line-number"},[s._v("23")]),e("br")])]),e("p",[s._v("通过断点，发现"),e("code",[s._v("destroyed")]),s._v("没有进入。查看该组件，发现是手动重写了this.$destroy方法，使得缓存组件无法正常摧毁。")]),s._v(" "),e("div",{staticClass:"language-js line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 错误示范")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("created")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n   "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("let")]),s._v(" query "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("this")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("$route"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("query\n   "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("this")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("searchParams "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("...")]),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("this")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("searchParams"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("...")]),s._v("query "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n   window"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("parent"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("postMessage")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[s._v("'fullscreen'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v("'*'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n   "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 不要这样重写destroy")]),s._v("\n   "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("this")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),e("span",{pre:!0,attrs:{class:"token function-variable function"}},[s._v("$destroy")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),s._v(" window"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("parent"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("postMessage")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[s._v("'cancelfullscreen'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v("'*'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br")])]),e("h2",{attrs:{id:"pc-庞大数据的渲染、校验、保存问题"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#pc-庞大数据的渲染、校验、保存问题"}},[s._v("#")]),s._v(" [pc]庞大数据的渲染、校验、保存问题")]),s._v(" "),e("p",[s._v("问题：庞大的数据导致前端的渲染、保存，出现卡顿")]),s._v(" "),e("h3",{attrs:{id:"解决方法"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#解决方法"}},[s._v("#")]),s._v(" 解决方法")]),s._v(" "),e("h4",{attrs:{id:"后端真分页、后端校验、单条保存"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#后端真分页、后端校验、单条保存"}},[s._v("#")]),s._v(" 后端真分页、后端校验、单条保存")]),s._v(" "),e("p",[s._v("缺点：HTTP请求增多；交互不友好")]),s._v(" "),e("h4",{attrs:{id:"前端假分页、前端校验、整体保存"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#前端假分页、前端校验、整体保存"}},[s._v("#")]),s._v(" 前端假分页、前端校验、整体保存")]),s._v(" "),e("p",[s._v("优点：减少HTTP请求、校验快")]),s._v(" "),e("h4",{attrs:{id:"利用vue-virtual-scroller"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#利用vue-virtual-scroller"}},[s._v("#")]),s._v(" 利用vue-virtual-scroller")]),s._v(" "),e("p",[s._v("优点：懒加载")]),s._v(" "),e("p",[s._v("原理：将加载事件绑定在scroll事件上，并记录上次渲染item的startIndex、endIndex，利用一个buffer进行存储。")]),s._v(" "),e("p",[s._v("目前方案："),e("strong",[s._v("前端假分页、前端校验、整体保存")])]),s._v(" "),e("h2",{attrs:{id:"将一组下载url打包成zip"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#将一组下载url打包成zip"}},[s._v("#")]),s._v(" 将一组下载URL打包成zip")]),s._v(" "),e("p",[s._v("有一组数据，需要将其下载，并打包&另存为到zip中：")]),s._v(" "),e("div",{staticClass:"language-js line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token constant"}},[s._v("LINKS")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),e("span",{pre:!0,attrs:{class:"token string"}},[s._v("'www.baidu.com/a1.pdf'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v("'www.baidu.com/a2.pdf'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("推荐npm包：")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("jszip\njszip-utils\nfile-saver\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br")])]),e("p",[e("RouterLink",{attrs:{to:"/skill/project/other/SaveAsZip.html"}},[s._v("使用demo")])],1),s._v(" "),e("h2",{attrs:{id:"web-sourcemap"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#web-sourcemap"}},[s._v("#")]),s._v(" [web] SourceMap")]),s._v(" "),e("p",[s._v("因为大部分源码（尤其是各种函数库、框架）都要经过打包、压缩，才能投入生产环境。")]),s._v(" "),e("p",[s._v("好处：")]),s._v(" "),e("ul",[e("li",[s._v("减小体积")]),s._v(" "),e("li",[s._v("减少HTTP请求数")])]),s._v(" "),e("p",[s._v("缺点：debug变得困难重重")]),s._v(" "),e("p",[s._v("解决方案："),e("strong",[s._v("使用"),e("code",[s._v("SourceMap")])])]),s._v(" "),e("p",[s._v("因为"),e("code",[s._v("SourceMap")]),s._v("记录着位置信息（即，转换后的代码的每一个位置，所对应的转换前的位置）")]),s._v(" "),e("blockquote",[e("p",[s._v("有了它，出错的时候，debug工具就直接显示 "),e("strong",[s._v("开发代码")]),s._v(" ，而不是转换后的代码，给开发者带来了极大的方便！")])]),s._v(" "),e("h2",{attrs:{id:"tree-shaking"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#tree-shaking"}},[s._v("#")]),s._v(" Tree shaking")]),s._v(" "),e("p",[e("code",[s._v("Tree shaking")]),s._v("的本质是 "),e("strong",[s._v("消除无用的JavaScript代码")]),s._v("，消除原理是依赖于ES6的模块特性。")]),s._v(" "),e("p",[s._v("它不支持动态导入（如：CommonJS的"),e("code",[s._v("require()")]),s._v("），只支持纯静态的导入（ES6的"),e("code",[s._v("import/export")]),s._v("）。")]),s._v(" "),e("blockquote",[e("p",[s._v("因为ES6模块依赖关系是确定的，可以在运行前进行 "),e("strong",[s._v("可靠的静态分析")]),s._v("。")])]),s._v(" "),e("h3",{attrs:{id:"es6-module特点"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#es6-module特点"}},[s._v("#")]),s._v(" ES6 module特点")]),s._v(" "),e("ul",[e("li",[s._v("只能作为模块内的顶层语句出现")]),s._v(" "),e("li",[s._v("import的模块名只能是字符串常量")])]),s._v(" "),e("h2",{attrs:{id:"nginx"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#nginx"}},[s._v("#")]),s._v(" Nginx")]),s._v(" "),e("div",{staticClass:"language-js line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[s._v("server "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    server_name www"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("baidu"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("com"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    listen "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("80")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n    location "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("api"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("auth "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        proxy_pass http"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.1")]),e("span",{pre:!0,attrs:{class:"token number"}},[s._v(".2")]),e("span",{pre:!0,attrs:{class:"token number"}},[s._v(".3")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("8800")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n    "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 定位规则")]),s._v("\n    location "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("product"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("html "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 静态资源根目录")]),s._v("\n        root "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("home"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("static")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("baidu"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("build"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 首页")]),s._v("\n        index product"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("html\n        "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 重定向")]),s._v("\n        try_files $uri "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("product"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("html\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br"),e("span",{staticClass:"line-number"},[s._v("13")]),e("br"),e("span",{staticClass:"line-number"},[s._v("14")]),e("br"),e("span",{staticClass:"line-number"},[s._v("15")]),e("br"),e("span",{staticClass:"line-number"},[s._v("16")]),e("br"),e("span",{staticClass:"line-number"},[s._v("17")]),e("br"),e("span",{staticClass:"line-number"},[s._v("18")]),e("br")])]),e("h3",{attrs:{id:"nginx实现负载均衡的4种模式"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#nginx实现负载均衡的4种模式"}},[s._v("#")]),s._v(" Nginx实现负载均衡的4种模式")]),s._v(" "),e("p",[s._v("Nginx是一个非常高效的HTTP负载均衡器，它的作用是 "),e("strong",[s._v("分发请求到各个应用服务器")]),s._v("，从而提高web应用性能。")]),s._v(" "),e("h4",{attrs:{id:"配置"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#配置"}},[s._v("#")]),s._v(" 配置")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("#  首先，你要有两台或以上可以提供相同服务的Web服务器,不然这个负载均衡配置就没有意义！\n#  在配置过程中只需要改代理服务器的配置就行，其他服务器不用管。\n-    vim /usr/local/nginx/conf/nginx.conf\n    #   在http下添加如下代码\n        upstream item { # item名字可以自定义\n            server 192.168.101.60:81 参数;\n            server 192.168.101.77:80 参数;\n            # 负载均衡模式(非必选项)\n        }\n    #   在server 80下添加如下代码\n        location /{\n            proxy_pass http://item;     # item是在上面命名的\n        }\n-   配置 'upstream' 的时候,可以把你的代理服务器也加在里面用来做 'web' 服务器, 但是端口就不用在用80了。\n-   重启你的nginx组件，现在负载均衡就已经可以用了\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br"),e("span",{staticClass:"line-number"},[s._v("13")]),e("br"),e("span",{staticClass:"line-number"},[s._v("14")]),e("br"),e("span",{staticClass:"line-number"},[s._v("15")]),e("br")])]),e("h4",{attrs:{id:"_4种模式"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_4种模式"}},[s._v("#")]),s._v(" 4种模式")]),s._v(" "),e("ul",[e("li",[s._v("轮询（默认）：请求会随机分发到配置的服务器上")]),s._v(" "),e("li",[s._v("权重分配：通过配置"),e("code",[s._v("weight")]),s._v("，权重越高，被分发到的概率也越高")]),s._v(" "),e("li",[s._v("哈希分配：通过声明"),e("code",[s._v("ip_hash")]),s._v("，根据客户端IP来分发同一台服务器（可解决session共享）")]),s._v(" "),e("li",[s._v("最少连接分配：通过声明"),e("code",[s._v("least_conn")]),s._v("，根据当前连接数最少的服务器进行分发")])]),s._v(" "),e("h2",{attrs:{id:"keydown、keyup、keypress"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#keydown、keyup、keypress"}},[s._v("#")]),s._v(" keydown、keyup、keypress")]),s._v(" "),e("p",[e("code",[s._v("keydown")]),s._v("、"),e("code",[s._v("keyup")]),s._v("是捕获了键盘的按键操作")]),s._v(" "),e("p",[e("code",[s._v("keypress")]),s._v("反映了具体输入某个字符的值")]),s._v(" "),e("blockquote",[e("p",[s._v("键盘事件只能由"),e("code",[s._v("<input>")]),s._v("、"),e("code",[s._v("<textarea>")]),s._v("以及任何具有"),e("code",[s._v("contentEditable")]),s._v("或"),e("code",[s._v('tabindex="-1"')]),s._v("属性的组件触发")])]),s._v(" "),e("h3",{attrs:{id:"踩坑：在windows、中文输入法下，输入全角符号keycode都为229"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#踩坑：在windows、中文输入法下，输入全角符号keycode都为229"}},[s._v("#")]),s._v(" 踩坑：在Windows、中文输入法下，输入全角符号keycode都为229")]),s._v(" "),e("p",[e("strong",[s._v("现象：")]),s._v(" 在Windows的中文输入法下，通过"),e("code",[s._v("keydown")]),s._v("监听到的符号输出（即英文字母上面那排数字搭配"),e("code",[s._v("Shift")]),s._v("），keycode皆为"),e("strong",[s._v("229")])]),s._v(" "),e("p",[e("strong",[s._v("原因：")]),s._v(" 自 Firefox 65起,  "),e("code",[s._v("keydown")]),s._v(" 与 "),e("code",[s._v("keyup")]),s._v(" 事件会在 IME（输入法编辑器）复合事件 中被触发，目的是为了提升CJKT（中日韩台地区）用户跨浏览器性能。")]),s._v(" "),e("blockquote",[e("p",[e("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/Web/API/Element/keydown_event",target:"_blank",rel:"noopener noreferrer"}},[s._v("MDN - Element: 键盘按下事件"),e("OutboundLink")],1)])]),s._v(" "),e("p",[e("strong",[s._v("解决方案：")])]),s._v(" "),e("ul",[e("li",[s._v("利用"),e("code",[s._v("onInput")]),s._v("事件，监听"),e("code",[s._v("nativeEvent.data")]),s._v("（该值为输入值）")]),s._v(" "),e("li",[s._v("对要更新的字段进行手动“修饰”")])]),s._v(" "),e("div",{staticClass:"language-js line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function-variable function"}},[s._v("onInput")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),e("span",{pre:!0,attrs:{class:"token parameter"}},[s._v("ev")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" nativeEvent"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" target "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" ev"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" key "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" nativeEvent"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("data"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n    "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v('// 若输入为"@"，弹出选人弹框')]),s._v("\n    "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("key "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("===")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v("'@'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("this")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("popoverFromKeyBoard "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 通过这个字段来“手动修饰”")]),s._v("\n        "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("this")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("handleVisibleSelectPerson")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),e("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br")])]),e("h2",{attrs:{id:"git-rebase"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#git-rebase"}},[s._v("#")]),s._v(" git rebase")]),s._v(" "),e("p",[s._v("场景：当 "),e("code",[s._v("dev分支")]),s._v(" 开发过程中，"),e("code",[s._v("master")]),s._v("也发生了其他commit。需要把这些同步到到 "),e("code",[s._v("dev")]),s._v(" 上")]),s._v(" "),e("p",[s._v("操作：")]),s._v(" "),e("ul",[e("li",[s._v("切换到"),e("code",[s._v("dev分支")])]),s._v(" "),e("li",[s._v("右键"),e("code",[s._v("master")]),s._v(" - “将当前变更变基到 master”")]),s._v(" "),e("li",[s._v("逐步变基，解决冲突")]),s._v(" "),e("li",[e("code",[s._v("dev分支")]),s._v("上即可获得最新的"),e("code",[s._v("master")])])]),s._v(" "),e("p",[e("img",{attrs:{src:a(373),alt:"alt"}})]),s._v(" "),e("h2",{attrs:{id:"android下line-height文字垂直居中偏移问题"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#android下line-height文字垂直居中偏移问题"}},[s._v("#")]),s._v(" Android下line-height文字垂直居中偏移问题")]),s._v(" "),e("p",[s._v("在移动端开发，Android的单行文字无法在容器中完美垂直居中。")]),s._v(" "),e("blockquote",[e("p",[s._v("常见于一些 tag 和 按钮")])]),s._v(" "),e("p",[s._v("问题根源：设定同一"),e("code",[s._v("font-size")]),s._v("的文字，"),e("strong",[s._v("在不同字体里的高度是不一样的")]),s._v("。")]),s._v(" "),e("h3",{attrs:{id:"调研"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#调研"}},[s._v("#")]),s._v(" 调研")]),s._v(" "),e("ul",[e("li",[s._v("所有内联元素都有两个高度："),e("code",[s._v("content-area")]),s._v("（基于字体度量）、"),e("code",[s._v("virtual-area")]),s._v("（有效高度，即line-height）")]),s._v(" "),e("li",[e("code",[s._v("content-area")]),s._v("在内部渲染时已经发生偏移，而css的居中方案只会控制整个"),e("code",[s._v("content-area")]),s._v("的居中")]),s._v(" "),e("li",[e("code",[s._v("line-height: normal")]),s._v("是基于字体度量计算出来的")])]),s._v(" "),e("h3",{attrs:{id:"分析"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#分析"}},[s._v("#")]),s._v(" 分析")]),s._v(" "),e("p",[s._v("需要针对"),e("code",[s._v("content-area")]),s._v("、"),e("code",[s._v("virtual-area")]),s._v("两类高度进行垂直居中。")]),s._v(" "),e("h3",{attrs:{id:"解决方案"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#解决方案"}},[s._v("#")]),s._v(" 解决方案")]),s._v(" "),e("p",[s._v("针对"),e("code",[s._v("content-area")]),s._v("的居中（二选一）：")]),s._v(" "),e("ul",[e("li",[s._v("方案1："),e("code",[s._v("line-height: normal")])]),s._v(" "),e("li",[s._v("方案2：设置"),e("code",[s._v('<html lang="zh-cmn-Hans">')]),s._v("、"),e("code",[s._v("font-family: sans-sarif")]),s._v("（sans-sarif表示黑体）")])]),s._v(" "),e("p",[s._v("针对"),e("code",[s._v("virtual-area")]),s._v("的居中（二选一）：")]),s._v(" "),e("ul",[e("li",[s._v("方案1：父容器"),e("code",[s._v("position: relative")]),s._v("，子元素"),e("code",[s._v("position: absolute; left: 50%; top: 50%; transtorm: translate(-50%, -50%);")])]),s._v(" "),e("li",[s._v("方案2：父容器声明为Flex容器，并"),e("code",[s._v("align-items: center")])])]),s._v(" "),e("h2",{attrs:{id:"ios：position-fixed滑动不固定"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#ios：position-fixed滑动不固定"}},[s._v("#")]),s._v(" iOS：position: fixed滑动不固定")]),s._v(" "),e("p",[s._v("范围： 部分iOS机型（目前发现iOS<=13.6）")]),s._v(" "),e("p",[s._v("在滚动容器内，子元素使用了"),e("code",[s._v("position: fixed")]),s._v("，出现滑动不固定")]),s._v(" "),e("h3",{attrs:{id:"解决"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#解决"}},[s._v("#")]),s._v(" 解决")]),s._v(" "),e("ul",[e("li",[s._v("法一：在使用了"),e("code",[s._v("position: fixed")]),s._v("元素上加上"),e("code",[s._v("transform: translateZ(0)")])]),s._v(" "),e("li",[s._v("法二：将"),e("code",[s._v("fixed")]),s._v("元素移出 滚动视图 外")])])])}),[],!1,null,null,null);t.default=n.exports}}]);